---
import { Icon } from "astro-icon/components";

const contactMethods = [
    {
        label: "Ubicacion",
        icon: "mdi:map-marker",
        entries: [
            { type: "text", value: "Bávaro, Punta Cana" },
            { type: "text", value: "República Dominicana" }
        ]
    },
    {
        label: "Teléfono",
        icon: "mdi:phone",
        entries: [
            { type: "tel", value: "+1 829 986 3012" },
            { type: "tel", value: "+1 809 519 0756" }
        ]
    },
    {
        label: "Email",
        icon: "mdi:email",
        entries: [
            { type: "email", value: "admin@constructorasantanadiaz.com" },
            { type: "email", value: "ingmanuelsantana@yahoo.es" }
        ]
    }
];
---

<section class="pt-24">
    <div class="container mx-auto px-6">
        <div class="space-y-6 text-center mb-12">
            <div class="inline-flex items-center gap-2 bg-primary/15 text-primary px-4 py-2 rounded-full text-xs font-semibold uppercase tracking-wide">
                <Icon name="mdi:message-outline" class="w-4 h-4" />
                Contacto
            </div>
            
            <h2 class="text-3xl font-semibold tracking-tight">
                Ponte en contacto con nosotros
            </h2>
            
            <p class="text-on-surface max-w-xl mx-auto">
                Siempre abierto a colaborar en proyectos creativos, nuevas
                ideas o simplemente charlar.
            </p>
        </div>
        
        <!-- Contact Methods -->
        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
            {contactMethods.map(contactMethod => (
                <div class="group rounded-2xl bg-surface border border-outline/60 p-6 transition hover:shadow-md hover:border-outline">
                    <div class="flex gap-4 min-w-0">
                        <div class="w-12 h-12 flex items-center justify-center rounded-xl bg-primary/15 text-primary">
                            <Icon name={contactMethod.icon} class="w-6 h-6" />
                        </div>
                        
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-on-surface-variant mb-1">
                                {contactMethod.label}
                            </p>
                            
                            <div class="space-y-1">
                                {contactMethod.entries.map(entry => (
                                    <button
                                        type="button"
                                        data-copy={entry.value}
                                        class="copy-item text-left w-full
                                              text-base text-on-surface
                                              hover:text-primary transition-colors
                                              break-all md:break-normal sm:break-normal
                                              overflow-hidden
                                        "
                                    >
                                        {entry.value}
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                </div>
            ))}
        </div>
    </div>
</section>

<script>
  document.addEventListener("click", (e) => {
    if (!(e.target instanceof Element)) return;

    const target = e.target.closest("[data-copy]");
    if (!(target instanceof HTMLElement)) return;

    const value = target.dataset.copy;
    if (!value) return;

    navigator.clipboard.writeText(value);

    const original = target.textContent;
    target.textContent = "Copiado ✓";
    target.classList.add("text-primary");

    setTimeout(() => {
      target.textContent = original;
      target.classList.remove("text-primary");
    }, 1200);
  });
</script>

